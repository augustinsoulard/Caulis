"0","releves <- st_read(dsn = gpkg_path, layer = ""Releve_Phyto"")"
"1","Reading layer `"
"1","Releve_Phyto"
"1","' from data source "
"1","
"
"1","  "
"1","`"
"1","G:\Drive partagés\BIODIV\1_CLIENTS\AGENCE_MTDA\2025\39_PG_BV_LEZ_EEE_2025\CARTO\Donnees.gpkg"
"1","' "
"1","using driver `"
"1","GPKG"
"1","'"
"1","
"
"1","Simple feature collection with 2 features and 30 fields"
"1","
"
"1","Geometry type: POINT
"
"1","Dimension:     XY
"
"1","Bounding box:  "
"1","xmin: 767982.7 ymin: 6285135 xmax: 768131.5 ymax: 6285489"
"1","
"
"1","Projected CRS: RGF93 v1 / Lambert-93
"
"0","flore <- st_read(dsn = gpkg_path, layer = ""Flore"")"
"1","Reading layer `"
"1","Flore"
"1","' from data source "
"1","`"
"1","G:\Drive partagés\BIODIV\1_CLIENTS\AGENCE_MTDA\2025\39_PG_BV_LEZ_EEE_2025\CARTO\Donnees.gpkg"
"1","' "
"1","using driver `"
"1","GPKG"
"1","'"
"1","
"
"1","Simple feature collection with 212 features and 23 fields"
"1","
"
"1","Geometry type: POINT
"
"1","Dimension:     XYZ
"
"1","Bounding box:  "
"1","xmin: 764535.6 ymin: 6280048 xmax: 774659.7 ymax: 6298190"
"1","
"
"1","z_range:       "
"1","zmin: 0 zmax: 126.0007"
"1","
"
"1","Projected CRS: RGF93 v1 / Lambert-93
"
"0","habitats <- st_read(dsn = gpkg_path, layer = ""Habitat_P"")"
"1","Reading layer `"
"1","Habitat_P"
"1","' from data source "
"1","
"
"1","  "
"1","`"
"1","G:\Drive partagés\BIODIV\1_CLIENTS\AGENCE_MTDA\2025\39_PG_BV_LEZ_EEE_2025\CARTO\Donnees.gpkg"
"1","' "
"1","using driver `"
"1","GPKG"
"1","'"
"1","
"
"1","Simple feature collection with 6 features and 14 fields"
"1","
"
"1","Geometry type: POINT
"
"1","Dimension:     XY
"
"1","Bounding box:  "
"1","xmin: 764880.3 ymin: 6280089 xmax: 774621.9 ymax: 6298180"
"1","
"
"1","Projected CRS: RGF93 v1 / Lambert-93
"
"0","typologie <- st_read(dsn = gpkg_path, layer = ""Typologie"")"
"1","Reading layer `"
"1","Typologie"
"1","' from data source "
"1","
"
"1","  "
"1","`"
"1","G:\Drive partagés\BIODIV\1_CLIENTS\AGENCE_MTDA\2025\39_PG_BV_LEZ_EEE_2025\CARTO\Donnees.gpkg"
"1","' "
"1","using driver `"
"1","GPKG"
"1","'"
"1","
"
"0","photos <- st_read(dsn = gpkg_path, layer = ""photos"") %>% "
"0","  st_drop_geometry() # Supprimer la colonne de géométrie inutile"
"1","Reading layer `"
"1","photos"
"1","' from data source "
"1","`"
"1","G:\Drive partagés\BIODIV\1_CLIENTS\AGENCE_MTDA\2025\39_PG_BV_LEZ_EEE_2025\CARTO\Donnees.gpkg"
"1","' "
"1","using driver `"
"1","GPKG"
"1","'"
"1","
"
"0","photos_agg <- photos %>%"
"0","  rename(uuid = Reference) %>% # Renommer pour la jointure"
"0","  group_by(uuid) %>%"
"0","  summarise("
"0","    chemins_photos = list(Photo), # Agréger les chemins dans une liste"
"0","    commentaires_photos = list(Nom) # Agréger aussi les commentaires"
"0","  )"
"0",""
"0","typologie <- st_read(gpkg_path, layer = ""Typologie"") %>%"
"0","  mutate(fid = as.character(row_number()))"
"1","Reading layer `"
"1","Typologie"
"1","' from data source "
"1","
"
"1","  "
"1","`"
"1","G:\Drive partagés\BIODIV\1_CLIENTS\AGENCE_MTDA\2025\39_PG_BV_LEZ_EEE_2025\CARTO\Donnees.gpkg"
"1","' "
"1","using driver `"
"1","GPKG"
"1","'"
"1","
"
"0","releves_final <- releves %>%"
"0","  left_join(photos_agg, by = ""uuid"")"
"0",""
"0","habitats_final <- habitats %>%"
"0","  left_join(photos_agg, by = ""uuid"")%>%"
"0","  left_join(typologie, by = c(""Nom"" = ""fid""),suffix = c("""", ""_T""))"
"0",""
"0","flore_final <- flore %>%"
"0","  left_join(photos_agg, by = ""uuid"")"
"0",""
"0","# Filtrer la flore appartenant à un relevé et la joindre"
"0","flore_releves <- flore_final %>%"
"0","  filter(!is.na(Releve)) %>%"
"0","  select(Releve, Nom, Releve_Strate, Releve_Recouvrement)"
"0",""
